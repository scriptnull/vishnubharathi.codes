<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="I am publishing my rough notes on Google Cloud networking which I collected while watching the first few episodes of the Google Cloud Networking playlist. lol, I don’t know how many more times I will">
<meta property="og:type" content="article">
<meta property="og:title" content="Rough notes on GCP networking">
<meta property="og:url" content="https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/index.html">
<meta property="og:site_name" content="Vishnu Bharathi">
<meta property="og:description" content="I am publishing my rough notes on Google Cloud networking which I collected while watching the first few episodes of the Google Cloud Networking playlist. lol, I don’t know how many more times I will">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/145bb23d-d996-4292-bf20-26cbfc880b2b">
<meta property="og:image" content="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/0e178e1f-c9c9-472b-9506-f76385ae5870">
<meta property="og:image" content="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/e918cf25-7f13-4697-8fb2-a8550125a5b0">
<meta property="article:published_time" content="2024-03-11T00:52:46.000Z">
<meta property="article:modified_time" content="2024-03-11T01:24:42.095Z">
<meta property="article:author" content="Vishnu Bharathi">
<meta property="article:tag" content="devops">
<meta property="article:tag" content="cloud">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/145bb23d-d996-4292-bf20-26cbfc880b2b">
    
    
        
          
              <link rel="shortcut icon" href="https://www.gravatar.com/avatar/261fb0f50b7dea501c807ac01f242343?s=16">
          
        
        
          
            <link rel="icon" type="image/png" href="https://www.gravatar.com/avatar/261fb0f50b7dea501c807ac01f242343?s=192" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="https://www.gravatar.com/avatar/261fb0f50b7dea501c807ac01f242343?s=180">
          
        
    
    <!-- title -->
    <title>Rough notes on GCP networking</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 5.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Blog</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/blog/infinite-ways/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&text=Rough notes on GCP networking"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&is_video=false&description=Rough notes on GCP networking"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Rough notes on GCP networking&body=Check out this article: https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&name=Rough notes on GCP networking&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&t=Rough notes on GCP networking"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#VPC"><span class="toc-number">1.</span> <span class="toc-text">VPC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Interconnecting-to-Google-Cloud"><span class="toc-number">2.</span> <span class="toc-text">Interconnecting to Google Cloud</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Routing"><span class="toc-number">3.</span> <span class="toc-text">Routing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VPC-Peering"><span class="toc-number">4.</span> <span class="toc-text">VPC Peering</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Load-Balancers"><span class="toc-number">5.</span> <span class="toc-text">Load Balancers</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Rough notes on GCP networking
    </h1>



    <div class="meta">
      
    <div class="postdate">
      
        <time datetime="2024-03-11T00:52:46.000Z" itemprop="datePublished">2024-03-11</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/cloud/" rel="tag">cloud</a>, <a class="tag-link-link" href="/tags/devops/" rel="tag">devops</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>I am publishing my rough notes on Google Cloud networking which I collected while watching the first few episodes of the <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=0hN-dyOV10c&amp;list=PLDGXb-1k3XY1RaEfzp_nDSJMPP0iAQEtP">Google Cloud Networking playlist</a>. lol, I don’t know how many more times I will need to revise them.</p>
<p>(Any images seen here are attributed to the presentation in the video series mentioned above. This blog post is more like watching those videos on fast-forward and I would definitely encourage you to check out the videos if you would like more clarity)</p>
<h2 id="VPC"><a href="#VPC" class="headerlink" title="VPC"></a>VPC</h2><ul>
<li>VPC is a global construct<ul>
<li>You can create subnets that belong to a different region</li>
</ul>
</li>
<li>Shared VPC<ul>
<li>One host project has VPC and subnets</li>
<li>Share all or some subnets with other projects that host the project-level service</li>
</ul>
</li>
</ul>
<h2 id="Interconnecting-to-Google-Cloud"><a href="#Interconnecting-to-Google-Cloud" class="headerlink" title="Interconnecting to Google Cloud"></a>Interconnecting to Google Cloud</h2><ul>
<li>Layer 3<ul>
<li>Dedicated (Direct peering)</li>
<li>Shared (Carrier peering)</li>
<li>Needs VPN setup to tunnel into private address space</li>
<li>No SLAs</li>
<li>Free of cost (but check latest)</li>
</ul>
</li>
<li>Layer 2<ul>
<li>Dedicated Interconnect<ul>
<li>Costly (because Gcloud has dedicated hardware)</li>
<li>Dedicated bandwidth</li>
</ul>
</li>
<li>Partner Interconnect<ul>
<li>Example: Equinix fabric</li>
<li>Shared bandwidth other people who are using the interconnect</li>
</ul>
</li>
<li>Has SLA</li>
</ul>
</li>
</ul>
<h2 id="Routing"><a href="#Routing" class="headerlink" title="Routing"></a>Routing</h2><ul>
<li>Pre-programmed routes<ul>
<li>Automatically created.</li>
<li>User can’t delete or change these routes</li>
<li>Subnet routes are automatically created when a subnet is added to the network</li>
</ul>
</li>
<li>Default routes<ul>
<li>Pre-programmed 0.0.0.0/0 route to an internet gateway</li>
<li>Unlike pre-programmed routes, this can be changed.</li>
</ul>
</li>
<li>Cloud Router (CR)<br>collapsed:: true<ul>
<li>Cloud Router is similar to a traditional router but has differences that are important to understand</li>
<li>In a traditional router, a router provides two functionalities<ul>
<li>Control plane functionality - BGP route communication mechanisms.</li>
<li>Data plane functionality - packets go into the router and the router makes the decision of where to route it.</li>
</ul>
</li>
<li>Cloud router is a “control-plane” only device. Think about it as a BGP speaker. This only speaks BGP, but the routers that you have on-prem might speak other protocols.</li>
<li>What does Cloud Router do?<ul>
<li>Learns routes dynamically, configures routing tables, and pushes those routing tables to the VMs themselves.</li>
<li>So when a VM wants to send packets to another VM, it is a host-to-host communication rather than pushing the packet to a router and the router making a choice to reach the destination.</li>
</ul>
</li>
<li>It is a Google-managed process, controlled by you, that runs on a Google host. If it fails, Google Cloud will automatically try to restart it. However, the routing from host to host is not affected during this period since it is not a data plane device. BGP connectivity will be lost during this time, so you can’t add new routes. The best practice would be to run two cloud routers always.</li>
<li>Two routing modes<ul>
<li>(can be enabled when setting up your VPC)</li>
<li>Regional routing<ul>
<li>CR was brought up in a region. So it can only learn about the subnets in that particular region.</li>
<li>Be careful about using these because when a load balancer tries to reach something in us-west-1 but the request ends up in the CR present in us-east-1, then a black hole is created. (i.e. request is not able to be routed to us-west-1 because regional CR doesn’t even know that us-west-1 exists)</li>
</ul>
</li>
<li>Global routing<ul>
<li>Allows CR to pick up all the subnets in a VPC</li>
</ul>
</li>
</ul>
</li>
<li>Route Priority<ul>
<li>Route Priority is equivalent to the BGP MED metric (multi-exit discriminator)</li>
<li>Local routes have default MED (1000 if not changed)</li>
<li>Routes from other regions have a metric based on RTT added to the default MED value.</li>
<li>If you have multiple interconnects, you can use route priority to tell the preference order of where the request needs to go.</li>
</ul>
</li>
</ul>
</li>
<li>Advanced Route<ul>
<li>Static forwarding to a VPN gateway when cloud routers/dynamic routing isn’t used.</li>
<li>Force some IPs to be routed to a third-party service</li>
</ul>
</li>
</ul>
<h2 id="VPC-Peering"><a href="#VPC-Peering" class="headerlink" title="VPC Peering"></a>VPC Peering</h2><ul>
<li>In case of VPNs, you can adverstise only a few subnets between network. In case of VPC peering, it is binary. All subnets in VPC A will get advertised to all subnets in VPC B and vice versa. You are basically smashing two VPCs.</li>
<li>Security policies still exist in both the VPCs and there is no “single” security policy for the smashed up VPC. So, if something is going wrong, check the firewall rules associated with both VPCs.</li>
<li>Can not have overlapping IP ranges</li>
<li>Non-transitive in nature</li>
<li>Quotas and Limits:<ul>
<li>15,500 total VMs across all peering relationships</li>
<li>A network can have upto 25 peered networks</li>
</ul>
</li>
</ul>
<h2 id="Load-Balancers"><a href="#Load-Balancers" class="headerlink" title="Load Balancers"></a>Load Balancers</h2><ul>
<li>Families (based on where they face)<ul>
<li>External load balancer: Internet-facing</li>
<li>Internal load balancer: Internal to google cloud</li>
</ul>
</li>
<li>Families (based on where they route to)<ul>
<li>Global</li>
<li>Regional</li>
</ul>
</li>
<li>Families (based on the level they operate at)<ul>
<li>Network Load balancers<ul>
<li>Layer 3 and 4.</li>
<li>These are external load balancers (internet-facing)</li>
<li>These are regional load balancers.</li>
<li>Highly available with multiple zones</li>
<li>Load balance TCP/UDP traffic and does not look at L7</li>
<li>Client IP is preserved, don’t need x-forwarded-for</li>
<li>It does not perform SSL termination, so your backend needs to do it</li>
<li>Client access can be controlled with the VPC Firewall</li>
<li>Balances traffic using 2, 3, or 5-tuple hashing<ul>
<li>2 tuple: {sourceIp, destIP}</li>
<li>3 tuple: {sourceIp, destIP, Protocol}</li>
<li>5 tuple: {sourceIp, destIP, sourcePort, destPort, Protocol}</li>
</ul>
</li>
<li>Session Affinity based on IP address</li>
<li>High performance = 1 million+ requests per second</li>
</ul>
</li>
<li>DNS-based Global LB<ul>
<li>This is how traditional public cloud usually had load balancing. But not how Google cloud load balancing works.</li>
<li><img src="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/145bb23d-d996-4292-bf20-26cbfc880b2b" alt="image"></li>
<li>IP address of servers in different region are added as DNS entries for the domain.</li>
<li>The DNS server gives back the IP address when requested in a load balancer fashion (like round robin)</li>
<li>Disadvantage: DNS caching happens at multiple places (web browsers, internet providers ec.), so it might be pointing to a invalid IP address at one of those layers</li>
</ul>
</li>
<li>Google Global Load Balancer (L7)<ul>
<li>Built for powering Google search, Gmail and other Google products and then adopted inside Google cloud</li>
<li><img src="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/0e178e1f-c9c9-472b-9506-f76385ae5870" alt="image"></li>
</ul>
</li>
<li>Single Global Anycast VIP (IPv4/IPv6) across region</li>
<li>Cross-region failure and fallback</li>
<li>Fast autoscaling</li>
<li>Highly available</li>
<li>Single point to apply global policies</li>
</ul>
</li>
<li>Internal Load Balancers<ul>
<li><img src="https://github.com/scriptnull/vishnubharathi.codes/assets/4211715/e918cf25-7f13-4697-8fb2-a8550125a5b0" alt="image"></li>
</ul>
</li>
<li>L4 Regional LB<ul>
<li>Internal (RFC 1918) VIP</li>
<li>Client IP Preserved</li>
<li>TCP, HTTP, HTTPS health checks</li>
<li>No middle proxy (delivered through SDN), High performance, and no chokepoints</li>
</ul>
</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Blog</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#VPC"><span class="toc-number">1.</span> <span class="toc-text">VPC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Interconnecting-to-Google-Cloud"><span class="toc-number">2.</span> <span class="toc-text">Interconnecting to Google Cloud</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Routing"><span class="toc-number">3.</span> <span class="toc-text">Routing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VPC-Peering"><span class="toc-number">4.</span> <span class="toc-text">VPC Peering</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Load-Balancers"><span class="toc-number">5.</span> <span class="toc-text">Load Balancers</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&text=Rough notes on GCP networking"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&is_video=false&description=Rough notes on GCP networking"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Rough notes on GCP networking&body=Check out this article: https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&title=Rough notes on GCP networking"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&name=Rough notes on GCP networking&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://vishnubharathi.codes/blog/rough-notes-on-google-cloud-networking/&t=Rough notes on GCP networking"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
<div class="footer-left">
<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
</div>
<div class="footer-right">
<nav>
<ul>

    <li><a href="/">Home</a></li>
        
    <li><a href="/archives/">Blog</a></li>
        
    <li><a href="/atom.xml">Feed</a></li>
    <li><a href="http://eepurl.com/gUCSRn" target="_blank" rel="noopener noreferrer">Subscribe</a></li>
    <li><div class="rc-scout" style="height: 24px; width: 24px;"></div></li>
</ul>
</nav>
</div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

<!-- Recurse Center -->
<script async defer src="https://www.recurse-scout.com/loader.js?t=9c0d969e43d5103ee1c163128e870dc3"></script>
<!-- Cloudflare analytics -->

<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "3a998e7dd4534719a1186cd0b01043fc"}'></script>


</body>
</html>
